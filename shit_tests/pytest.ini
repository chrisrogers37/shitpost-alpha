[tool:pytest]
# Pytest configuration for Shitpost Alpha tests

# Test discovery
testpaths = shit_tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Python path configuration
# This tells pytest to treat the project root as the Python path
# This prevents import conflicts when test directory mirrors source structure
pythonpath = .

# Test discovery configuration
# Prevent pytest from treating test directories as packages
norecursedirs = .git .tox dist build *.egg

# Output options
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes
    --durations=10

# Markers
markers =
    unit: Unit tests for individual components
    integration: Integration tests for component interactions
    e2e: End-to-end tests for complete workflows
    slow: Tests that take longer to run
    database: Tests that require database access
    s3: Tests that require S3 access
    llm: Tests that require LLM API access
    api: Tests that require external API access

# Async configuration
asyncio_mode = auto

# Coverage configuration
# Note: Coverage is handled by pytest-cov plugin
# Run with: pytest --cov=shit --cov=shitvault --cov=shitposts --cov=shitpost_ai

# Test timeout (in seconds)
timeout = 300

# Minimum version requirements
minversion = 7.0

# Filter warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:botocore.*
    ignore::UserWarning:boto3.*
